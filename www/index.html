<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
  <script type="module">
    import { render } from 'solid-js/web';
    import App from './app.jsx';
    const t = window.__TAURI__;
    const dump = t.invoke('dump');
    render(
      () => App({
        send: (method, data) => t.invoke('send', { method, data }),
        onChange: (callback) => {
          dump.then(state => callback([state]));
          t.event.listen('change', ({ payload }) => callback(payload));
        },
      }),
      document.body
    );
  </script>
</head>
<body class="mount"></body>
