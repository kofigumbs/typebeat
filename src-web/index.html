<!DOCTYPE html>
<meta charset="utf-8">

<script>
  const lib = new Promise(resolve => {
    window.Module = {
      noExitRuntime: true,
      onRuntimeInitialized: () => {
        document.addEventListener('click', () => {
          resolve(_start());
        }, { once: true });
      },
      locateFile: () => '../target/wasm32-unknown-emscripten/debug/typebeat_web.wasm',
    };
  });
  const withString = (string, f) => {
    let cString = allocateUTF8(string);
    let result = f(cString);
    _free(cString);
    return result;
  };
  window.typebeat = async (context, { method, data }) => {
    const controller = await lib;
    switch (context) {
      case 'get': return withString(method, x => _get(controller, x));
      case 'set': return withString(method, x => _set(controller, x, data));
    }
  };
</script>
<script defer src="../target/wasm32-unknown-emscripten/debug/typebeat-web.js"></script>

<link rel="stylesheet" href="../static/ui/FiraCode/distr/fira_code.css">
<link rel="stylesheet" href="../static/ui/index.css">
<script defer src="../static/ui/Themes/scripts/lib/theme.js"></script>
<script defer src="../static/ui/tare/dist/tare.min.js"></script>
<script defer src="../static/ui/typed-label.js"></script>
<script defer src="../static/ui/state.js"></script>
<script defer src="../static/ui/bindings.js"></script>
<script defer src="../static/ui/index.js"></script>
